{"ast":null,"code":"import _slicedToArray from\"/Users/juancvegao/Documents/PROGRAMMING/REACT/ejerciciosUniversidad/phonebookApp_mongoose_mods/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{notesPhonebook}from'./axios_phoneBookPost/notesPhonebookPost';import{PersonForm}from'./componentsPhonebook/PersonForm';import{useEffect,useState}from'react';import{FilteredList}from'./componentsPhonebook/FilteredList';import{ListPeople}from'./componentsPhonebook/ListPeople';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PhonebookPost=function PhonebookPost(){var mainStyle={color:'black',fontFamily:'helvetica'};var stylesNotification={color:'green',fontSize:19,backgroundColor:'lightGrey',height:60,width:500,display:'flex',alignItems:'center',justifyContent:'center'};var stylesError={color:'red',fontSize:19,backgroundColor:'lightGrey',height:60,width:500,display:'flex',alignItems:'center',justifyContent:'center'};var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),newNumber=_useState2[0],setNewNumber=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),persons=_useState4[0],setPersons=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),newName=_useState6[0],setNewName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),filterNames=_useState8[0],setFilterNames=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),notificationError=_useState10[0],setNotificationError=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),notificationAdd=_useState12[0],setNotificationAdd=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),stylesGreen=_useState14[0],setStylesGreen=_useState14[1];var _useState15=useState({}),_useState16=_slicedToArray(_useState15,2),stylesRed=_useState16[0],setStylesRed=_useState16[1];var onChangeEventName=function onChangeEventName(event){setNewName(function(){return event.target.value;});};var onChangeEventNumber=function onChangeEventNumber(event){setNewNumber(function(){return event.target.value;});};var onChangeFilter=function onChangeFilter(event){setFilterNames(function(){return event.target.value;});};var onSubmitFilter=function onSubmitFilter(event){event.preventDefault();};useEffect(function(){notesPhonebook.getting().then(function(response){setPersons(response);});},[newNumber]);var filteredNames=function filteredNames(addPersons){var filtroGente=persons.filter(function(e){return e.name===newName;});if(filtroGente.length>0){if(window.confirm(\"\".concat(newName,\" is already in the list, do you want to update the old number?\"))){setNewName(function(){return\"\";});setNewNumber(function(){return\"\";});notesPhonebook.putting(filtroGente[0]._id,addPersons);setStylesGreen(stylesNotification);setNotificationAdd(\"Contact: '\".concat(newName,\"' has been updated\"));setTimeout(function(){return setStylesGreen({});},5000);setTimeout(function(){return setNotificationAdd(\"\");},5000);setNewName(function(){return\"\";});setNewNumber(function(){return\"\";});}else{setNewName(function(){return\"\";});setNewNumber(function(){return\"\";});}}else{notesPhonebook.posting(addPersons).then(function(resolve){setPersons(function(){return persons.concat(resolve);});setStylesGreen(stylesNotification);setNotificationAdd(\"New contact: '\".concat(newName,\"' has been added\"));setTimeout(function(){return setStylesGreen({});},5000);setTimeout(function(){return setNotificationAdd(\"\");},5000);setNewName(function(){return\"\";});setNewNumber(function(){return\"\";});});}};var onSubmitForm=function onSubmitForm(event){event.preventDefault();var addPersons={name:newName,number:newNumber};filteredNames(addPersons);};var deleteContact=function deleteContact(id,name){var filteredPersons=persons.filter(function(e){return e._id!==id;});notesPhonebook.deleting(id);setPersons(filteredPersons);setStylesRed(stylesError);setNotificationError(\"\".concat(name,\" has been deleted from the database\"));setTimeout(function(){return setNotificationError(\"\");},5000);setTimeout(function(){return setStylesRed({});},5000);};return/*#__PURE__*/_jsxs(\"div\",{style:mainStyle,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Phonebook\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Find contact\"}),/*#__PURE__*/_jsx(FilteredList,{persons:persons,filterNames:filterNames,onSubmitFilter:onSubmitFilter,onChangeFilter:onChangeFilter}),/*#__PURE__*/_jsx(\"h2\",{children:\"Add contact\"}),/*#__PURE__*/_jsx(\"p\",{style:stylesGreen,children:notificationAdd}),/*#__PURE__*/_jsx(\"p\",{style:stylesRed,children:notificationError}),/*#__PURE__*/_jsx(PersonForm,{onSubmitForm:onSubmitForm,newName:newName,onChangeEventName:onChangeEventName,newNumber:newNumber,onChangeEventNumber:onChangeEventNumber}),/*#__PURE__*/_jsx(\"h2\",{children:\"Numbers\"}),/*#__PURE__*/_jsx(ListPeople,{arrayes:persons,deleteContact:deleteContact})]});};","map":{"version":3,"names":["notesPhonebook","PersonForm","useEffect","useState","FilteredList","ListPeople","PhonebookPost","mainStyle","color","fontFamily","stylesNotification","fontSize","backgroundColor","height","width","display","alignItems","justifyContent","stylesError","newNumber","setNewNumber","persons","setPersons","newName","setNewName","filterNames","setFilterNames","notificationError","setNotificationError","notificationAdd","setNotificationAdd","stylesGreen","setStylesGreen","stylesRed","setStylesRed","onChangeEventName","event","target","value","onChangeEventNumber","onChangeFilter","onSubmitFilter","preventDefault","getting","then","response","filteredNames","addPersons","filtroGente","filter","e","name","length","window","confirm","putting","_id","setTimeout","posting","resolve","concat","onSubmitForm","number","deleteContact","id","filteredPersons","deleting"],"sources":["/Users/juancvegao/Documents/PROGRAMMING/REACT/ejerciciosUniversidad/phonebookApp_mongoose_mods/src/PhonebookPost.jsx"],"sourcesContent":["import {notesPhonebook} from './axios_phoneBookPost/notesPhonebookPost'\nimport { PersonForm } from './componentsPhonebook/PersonForm'\nimport { useEffect, useState } from 'react'\nimport { FilteredList } from './componentsPhonebook/FilteredList'\nimport { ListPeople } from './componentsPhonebook/ListPeople'\n\nexport const PhonebookPost = () => {\n \n  const mainStyle = {\n    color: 'black',\n    fontFamily: 'helvetica'       \n  }\n  const stylesNotification = {\n    color: 'green',\n    fontSize: 19,\n    backgroundColor: 'lightGrey',\n    height:60,\n    width: 500,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n  \n  const stylesError = {\n    color: 'red',    \n    fontSize: 19,\n    backgroundColor: 'lightGrey',\n    height:60,\n    width: 500,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n  const [newNumber, setNewNumber] = useState(\"\")\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [filterNames, setFilterNames] = useState(\"\")\n\n  const [notificationError, setNotificationError] = useState(\"\")\n  const [ notificationAdd, setNotificationAdd] = useState(\"\")\n  const [ stylesGreen, setStylesGreen] = useState({})\n  const [ stylesRed, setStylesRed] = useState({})\n \n  const onChangeEventName = (event) => {\n    setNewName(() => event.target.value)  \n  }\n  const onChangeEventNumber = (event) => {\n    setNewNumber(()=> event.target.value)\n  }\n  const onChangeFilter = (event) =>{\n    setFilterNames(()=> event.target.value)   \n  }\n  const onSubmitFilter = (event) => {\n    event.preventDefault();\n  }\n\n  useEffect(() => {\n    notesPhonebook.getting()\n        .then(response=> {setPersons(response)})  \n  }, [newNumber])\n\n  const filteredNames = (addPersons) => {\n    const filtroGente = persons.filter(e=> e.name === newName)\n\n    if(filtroGente.length>0){\n        if(window.confirm(`${newName} is already in the list, do you want to update the old number?`)){           \n            setNewName(()=> \"\"); setNewNumber(()=> \"\")\n            notesPhonebook.putting(filtroGente[0]._id, addPersons)\n            setStylesGreen(stylesNotification)\n            setNotificationAdd(`Contact: '${newName}' has been updated`)\n            setTimeout(()=> setStylesGreen({}), 5000)\n            setTimeout(()=> setNotificationAdd(\"\"), 5000)\n            setNewName(()=> \"\")\n            setNewNumber(()=> \"\")\n        } else {\n            setNewName(()=> \"\"); setNewNumber(()=> \"\")\n        }\n        \n    }else{\n        notesPhonebook.posting(addPersons)\n        .then(resolve => {\n            setPersons(()=> persons.concat(resolve))\n            setStylesGreen(stylesNotification)\n            setNotificationAdd(`New contact: '${newName}' has been added`)\n            setTimeout(()=> setStylesGreen({}), 5000)\n            setTimeout(()=> setNotificationAdd(\"\"), 5000)\n            setNewName(()=> \"\")\n            setNewNumber(()=> \"\")\n        })\n    }}\n\n  const onSubmitForm = (event) => {\n    event.preventDefault();\n    const addPersons = {\n        name: newName,\n        number: newNumber,\n    }\n    filteredNames(addPersons)\n    }\n\n  const deleteContact = (id, name) =>{\n     const filteredPersons = persons.filter(e=> e._id !== id)\n     notesPhonebook.deleting(id)\n     setPersons(filteredPersons) \n      setStylesRed(stylesError)\n      setNotificationError(`${name} has been deleted from the database`)\n      setTimeout(()=> setNotificationError(\"\"), 5000)\n      setTimeout(()=> setStylesRed({}), 5000)\n    }\n      \n  return (\n    <div style={mainStyle}>\n      <h1>Phonebook</h1>\n      <h2>Find contact</h2>\n      \n      <FilteredList \n        persons={persons} \n        filterNames={filterNames} \n        onSubmitFilter={onSubmitFilter}\n        onChangeFilter={onChangeFilter}\n        />\n      \n      <h2>Add contact</h2>\n      <p style={stylesGreen}>{notificationAdd}</p>\n      <p style={stylesRed}>{notificationError}</p>\n      <PersonForm \n        onSubmitForm={onSubmitForm} \n        newName={newName} \n        onChangeEventName={onChangeEventName}\n        newNumber={newNumber}\n        onChangeEventNumber={onChangeEventNumber}\n        />\n\n      <h2>Numbers</h2>\n      <ListPeople \n        arrayes={persons}\n        deleteContact={deleteContact}\n        />\n        {/* {persons.map(e=> <li>{e.name}</li>)} */}\n    </div>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}