{"ast":null,"code":"var _jsxFileName = \"/Users/juancvegao/Documents/PROGRAMMING/REACT/ejerciciosUniversidad/phonebookApp_mongoose_mods/src/PhonebookPost.jsx\",\n    _s = $RefreshSig$();\n\nimport { notesPhonebook } from './axios_phoneBookPost/notesPhonebookPost';\nimport { PersonForm } from './componentsPhonebook/PersonForm';\nimport { useEffect, useState } from 'react';\nimport { FilteredList } from './componentsPhonebook/FilteredList';\nimport { ListPeople } from './componentsPhonebook/ListPeople';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const PhonebookPost = () => {\n  _s();\n\n  const mainStyle = {\n    color: 'black',\n    fontFamily: 'helvetica'\n  };\n  const stylesNotification = {\n    color: 'green',\n    fontSize: 19,\n    backgroundColor: 'lightGrey',\n    height: 60,\n    width: 500,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  };\n  const stylesError = {\n    color: 'red',\n    fontSize: 19,\n    backgroundColor: 'lightGrey',\n    height: 60,\n    width: 500,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  };\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [filterNames, setFilterNames] = useState(\"\");\n  const [notificationError, setNotificationError] = useState(\"\");\n  const [notificationAdd, setNotificationAdd] = useState(\"\");\n  const [stylesGreen, setStylesGreen] = useState({});\n  const [stylesRed, setStylesRed] = useState({});\n\n  const onChangeEventName = event => {\n    setNewName(() => event.target.value);\n  };\n\n  const onChangeEventNumber = event => {\n    setNewNumber(() => event.target.value);\n  };\n\n  const onChangeFilter = event => {\n    setFilterNames(() => event.target.value);\n  };\n\n  const onSubmitFilter = event => {\n    event.preventDefault();\n  };\n\n  let results;\n  useEffect(() => {\n    console.log(\".....useEffect getting().....\");\n    notesPhonebook.getting().then(response => {\n      setPersons(response);\n    });\n  }, [newNumber]);\n\n  const filteredNames = addPersons => {\n    const filtroGente = persons.filter(e => e.name === newName);\n\n    if (filtroGente.length > 0) {\n      if (window.confirm(`${newName} is already in the list, do you want to update the old number?`)) {\n        setNewName(() => \"\");\n        setNewNumber(() => \"\");\n        notesPhonebook.putting(filtroGente[0]._id, addPersons);\n        setStylesGreen(stylesNotification);\n        setNotificationAdd(`Contact: '${newName}' has been updated`);\n        setTimeout(() => setStylesGreen({}), 5000);\n        setTimeout(() => setNotificationAdd(\"\"), 5000);\n        setNewName(() => \"\");\n        setNewNumber(() => \"\");\n      } else {\n        setNewName(() => \"\");\n        setNewNumber(() => \"\");\n      }\n    } else {\n      notesPhonebook.posting(addPersons).then(resolve => {\n        setPersons(() => persons.concat(resolve));\n        setStylesGreen(stylesNotification);\n        setNotificationAdd(`New contact: '${newName}' has been added`);\n        setTimeout(() => setStylesGreen({}), 5000);\n        setTimeout(() => setNotificationAdd(\"\"), 5000);\n        setNewName(() => \"\");\n        setNewNumber(() => \"\");\n      });\n    }\n  };\n\n  const onSubmitForm = event => {\n    event.preventDefault();\n    const addPersons = {\n      name: newName,\n      number: newNumber\n    };\n    filteredNames(addPersons);\n  };\n\n  const deleteContact = (id, name) => {\n    const filteredPersons = persons.filter(e => e._id !== id);\n    notesPhonebook.deleting(id);\n    setPersons(filteredPersons);\n    setStylesRed(stylesError);\n    setNotificationError(`${name} has been deleted from the database`);\n    setTimeout(() => setNotificationError(\"\"), 5000);\n    setTimeout(() => setStylesRed({}), 5000);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: mainStyle,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Changing .env Var\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Find contact\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FilteredList, {\n      persons: persons,\n      filterNames: filterNames,\n      onSubmitFilter: onSubmitFilter,\n      onChangeFilter: onChangeFilter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Add contact\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: stylesGreen,\n      children: notificationAdd\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: stylesRed,\n      children: notificationError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PersonForm, {\n      onSubmitForm: onSubmitForm,\n      newName: newName,\n      onChangeEventName: onChangeEventName,\n      newNumber: newNumber,\n      onChangeEventNumber: onChangeEventNumber\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Numbers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ListPeople, {\n      arrayes: persons,\n      deleteContact: deleteContact\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PhonebookPost, \"h4+Fwa8eVEdW1Fc6euNDWe8YG9M=\");\n\n_c = PhonebookPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"PhonebookPost\");","map":{"version":3,"names":["notesPhonebook","PersonForm","useEffect","useState","FilteredList","ListPeople","PhonebookPost","mainStyle","color","fontFamily","stylesNotification","fontSize","backgroundColor","height","width","display","alignItems","justifyContent","stylesError","newNumber","setNewNumber","persons","setPersons","newName","setNewName","filterNames","setFilterNames","notificationError","setNotificationError","notificationAdd","setNotificationAdd","stylesGreen","setStylesGreen","stylesRed","setStylesRed","onChangeEventName","event","target","value","onChangeEventNumber","onChangeFilter","onSubmitFilter","preventDefault","results","console","log","getting","then","response","filteredNames","addPersons","filtroGente","filter","e","name","length","window","confirm","putting","_id","setTimeout","posting","resolve","concat","onSubmitForm","number","deleteContact","id","filteredPersons","deleting"],"sources":["/Users/juancvegao/Documents/PROGRAMMING/REACT/ejerciciosUniversidad/phonebookApp_mongoose_mods/src/PhonebookPost.jsx"],"sourcesContent":["import {notesPhonebook} from './axios_phoneBookPost/notesPhonebookPost'\nimport { PersonForm } from './componentsPhonebook/PersonForm'\nimport { useEffect, useState } from 'react'\nimport { FilteredList } from './componentsPhonebook/FilteredList'\nimport { ListPeople } from './componentsPhonebook/ListPeople'\n\nexport const PhonebookPost = () => {\n \n  const mainStyle = {\n    color: 'black',\n    fontFamily: 'helvetica'       \n  }\n  const stylesNotification = {\n    color: 'green',\n    fontSize: 19,\n    backgroundColor: 'lightGrey',\n    height:60,\n    width: 500,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n  \n  const stylesError = {\n    color: 'red',    \n    fontSize: 19,\n    backgroundColor: 'lightGrey',\n    height:60,\n    width: 500,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n  const [newNumber, setNewNumber] = useState(\"\")\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [filterNames, setFilterNames] = useState(\"\")\n\n  const [notificationError, setNotificationError] = useState(\"\")\n  const [ notificationAdd, setNotificationAdd] = useState(\"\")\n  const [ stylesGreen, setStylesGreen] = useState({})\n  const [ stylesRed, setStylesRed] = useState({})\n\n  const onChangeEventName = (event) => {\n    setNewName(() => event.target.value)  \n  }\n  const onChangeEventNumber = (event) => {\n    setNewNumber(()=> event.target.value)\n  }\n  const onChangeFilter = (event) =>{\n    setFilterNames(()=> event.target.value)   \n  }\n  const onSubmitFilter = (event) => {\n    event.preventDefault();\n  }\n\n  let results\n\n  useEffect(() => {\n    console.log(\".....useEffect getting().....\") \n    notesPhonebook.getting()\n        .then(response=> {setPersons(response)})  \n  }, [newNumber])\n\n  const filteredNames = (addPersons) => {\n    const filtroGente = persons.filter(e=> e.name === newName)\n\n    if(filtroGente.length>0){\n        if(window.confirm(`${newName} is already in the list, do you want to update the old number?`)){           \n            setNewName(()=> \"\"); setNewNumber(()=> \"\")\n            notesPhonebook.putting(filtroGente[0]._id, addPersons)\n            setStylesGreen(stylesNotification)\n            setNotificationAdd(`Contact: '${newName}' has been updated`)\n            setTimeout(()=> setStylesGreen({}), 5000)\n            setTimeout(()=> setNotificationAdd(\"\"), 5000)\n            setNewName(()=> \"\")\n            setNewNumber(()=> \"\")\n        } else {\n            setNewName(()=> \"\"); setNewNumber(()=> \"\")\n        }\n        \n    }else{\n        notesPhonebook.posting(addPersons)\n        .then(resolve => {\n            setPersons(()=> persons.concat(resolve))\n            setStylesGreen(stylesNotification)\n            setNotificationAdd(`New contact: '${newName}' has been added`)\n            setTimeout(()=> setStylesGreen({}), 5000)\n            setTimeout(()=> setNotificationAdd(\"\"), 5000)\n            setNewName(()=> \"\")\n            setNewNumber(()=> \"\")\n        })\n    }}\n\n  const onSubmitForm = (event) => {\n    event.preventDefault();\n    const addPersons = {\n        name: newName,\n        number: newNumber,\n    }\n    filteredNames(addPersons)\n    }\n\n  const deleteContact = (id, name) =>{\n     const filteredPersons = persons.filter(e=> e._id !== id)\n     notesPhonebook.deleting(id)\n     setPersons(filteredPersons) \n      setStylesRed(stylesError)\n      setNotificationError(`${name} has been deleted from the database`)\n      setTimeout(()=> setNotificationError(\"\"), 5000)\n      setTimeout(()=> setStylesRed({}), 5000)\n    }\n      \n  return (\n    <div style={mainStyle}>\n      <h1>Phonebook</h1>\n      <h3>Changing .env Var</h3>\n      <h2>Find contact</h2>\n      \n      <FilteredList \n        persons={persons} \n        filterNames={filterNames} \n        onSubmitFilter={onSubmitFilter}\n        onChangeFilter={onChangeFilter}\n        />\n      \n      <h2>Add contact</h2>\n      <p style={stylesGreen}>{notificationAdd}</p>\n      <p style={stylesRed}>{notificationError}</p>\n      <PersonForm \n        onSubmitForm={onSubmitForm} \n        newName={newName} \n        onChangeEventName={onChangeEventName}\n        newNumber={newNumber}\n        onChangeEventNumber={onChangeEventNumber}\n        />\n\n      <h2>Numbers</h2>\n      <ListPeople \n        arrayes={persons}\n        deleteContact={deleteContact}\n        />\n        {/* {persons.map(e=> <li>{e.name}</li>)} */}\n    </div>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}